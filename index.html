<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delta Executor Key</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #0a0a0a; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .box { background: #141414; padding: 25px; border-radius: 15px; border: 1px solid #333; width: 90%; max-width: 400px; text-align: center; }
        input { width: 100%; padding: 12px; margin: 15px 0; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px; box-sizing: border-box;}
        button { width: 100%; padding: 15px; background: #ff3333; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; margin-top: 10px; }
        .steps { text-align: left; font-size: 13px; color: #aaa; background: #111; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>

    <div class="box">
        <h2 style="color:#ff3333; margin-top:0;">DELTA KEY UNLOCKER</h2>
        
        <div class="steps">
            1. Copy Link from Delta App<br>
            2. Paste below & Click Unlock<br>
            3. View Ads to Get Key
        </div>

        <input type="text" id="link" placeholder="Paste Delta Link here...">
        <button id="btn" onclick="process()">UNLOCK KEY</button>
        
        <div id="status" style="margin-top:15px; font-size:14px;"></div>
    </div>

    <script>
        // TERA ADSTERRA LINK
        const AD_LINK = "https://remotelydependedchance.com/m32a3jgn5t?key=7018c00ae7bc4ab1bd8b09c898fec57a";
        let clicks = 0;

        async function process() {
            const link = document.getElementById('link').value.trim();
            const btn = document.getElementById('btn');
            const status = document.getElementById('status');

            if (!link || !link.includes("platorelay")) {
                alert("Paste Valid Link!"); 
                return;
            }

            // --- ADS LOGIC (2 Clicks) ---
            if (clicks < 2) {
                clicks++;
                window.open(AD_LINK, '_blank');
                if(clicks === 1) btn.innerText = "Verifying... Click Again (1/2)";
                if(clicks === 2) btn.innerText = "Final Step: GET KEY";
                return;
            }

            // --- SERVER CHECK ---
            btn.innerHTML = "Connecting to Server...";
            btn.disabled = true;

            try {
                // Try to get key from Vercel
                const res = await fetch('https://plato-vercel-backend.vercel.app/api/verify', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({url: link})
                });
                const data = await res.json();
                
                // Agar Key mil gayi (Rare chance)
                if (data.success && data.plato_response.data && data.plato_response.data.key && data.plato_response.data.key.includes("KEY_")) {
                    status.innerHTML = `<b style="color:#0f0">KEY FOUND:</b><br><br><div style="background:#222;padding:10px;border:1px solid #0f0;font-family:monospace;">${data.plato_response.data.key}</div>`;
                    btn.innerText = "SUCCESS";
                } 
                // Agar Key nahi mili (Most likely) -> Redirect to Delta
                else {
                    status.innerHTML = "<span style='color:yellow'>Completing Verification...</span>";
                    setTimeout(() => {
                        window.location.href = link; // User ko asli link par bhej do
                    }, 1500);
                }

            } catch (e) {
                // Error aaya toh bhi redirect kar do
                window.location.href = link;
            }
        }
    </script>

</body>
</html>

